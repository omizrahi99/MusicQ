{"version":3,"file":"static/webpack/static/development/pages/index.js.b0871e4570373b7d804d.hot-update.js","sources":["webpack:///./components/Table.js"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\nimport { fetch } from \"../utils/fetch\";\n\nexport default function Table(props) {\n  const [score, setScore] = useState(props.score);\n\n  // this callback renders the score when intially\n  // rendered\n  useEffect(() => {\n    setScore(props.score);\n  }, [props.score]);\n\n  // handles changes when upvoting score of each of song dynamically\n  const increment = useCallback(\n    async event => {\n      console.log(\"incrementing...\");\n      await fetch(\"/api/increment\", {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        // the body of this song is built from state\n        body: JSON.stringify({\n          song: props.name\n        })\n      });\n      // forces a call to the hook useSWR\n      props.useEffect();\n    },\n    [score]\n  );\n\n  return (\n    <tr>\n      {/* output name and score of song*/}\n      <td>{props.name}</td>\n      <td>{score}</td>\n      <td>\n        {/* button to upvote*/}\n        <button\n          onClick={() => {\n            setScore(score + 1);\n            () => increment();\n          }}\n        >\n          upvote\n        </button>\n      </td>\n      <td>\n        {/* button to downvote. Cannot be < 0*/}\n        <button\n          onClick={() => {\n            if (score > 0) {\n              setScore(score - 1);\n            }\n            () => decrement();\n          }}\n        >\n          {\" \"}\n          downvote\n        </button>\n      </td>\n    </tr>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AADA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AANA;AACA;AAHA;AAYA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;;;;A","sourceRoot":""}