{"version":3,"file":"static/webpack/static/development/pages/Login.js.8d79b3ae032d5528ed03.hot-update.js","sources":["webpack:///./pages/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Router from 'next/router'\n//import './login.css';\n\nexport const authEndpoint = 'https://accounts.spotify.com/authorize';\n// Replace with your app's client ID, redirect URI and desired scopes\nconst clientId = process.env.CLIENT_ID;\nconst redirectUri = process.env.REDIRECT_URI;\nconst scopes = [\n  \"user-read-currently-playing\",\n  \"user-read-playback-state\",\n];\nexport const spotifyWebApiURL = `https://accounts.spotify.com/authorize/?client_id=${clientId\n}&response_type=token&redirect_uri=${redirectUri}&scope=${scopes}`;\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n        access_token: ''\n    }\n}\ncomponentDidMount = () => {\n  let url = window.location.href\n  if(url.indexOf('_token')>-1){            \n      let access_token = url.split('_token=')[1].split(\"&\")[0].trim()\n      this.setState({ access_token })\n  }\n}\n\nmakeSpotifyCall = (event) => {\n  event.preventDefault()\n  const { access_token } = this.state\n  if(access_token===''){\n      document.location = spotifyWebApiURL\n  }else{\n      Router.push({\n          pathname: '/App',\n          query: { access_token }\n      })\n  }  \n}\n\n\n  render() {\n\n    const styles = {\n      border: \"0.2em solid #1ecd97\",\n      textAlign: \"center\",\n      display: \"inline-block\",\n      fontSize: \"16px\",\n      backgroundColor: \"transparent\",\n      borderRadius: \"2em\",\n      color: \"#1ecd97\",\n      cursor: \"pointer\",\n      fontSize: \"3vmin\",\n      padding: \"0.7em 1.5em\",\n      textTransform: \"uppercase\",\n      transition: \"all 0.25s ease\",\n    }\n\n    const { access_token } = this.state\n\n    return (\n      <div className=\"Login\" style={{textAlign: \"center\"}}>\n        <h3>\n        {access_token !== '' ? 'You are logged in' : \"Please Log in \"}\n        </h3>\n       <header className=\"Login-header\">\n            {\n            (<button onClick={event => this.makeSpotifyCall(event)} className=\"btn btn--Login-link\" style={styles}>\n            {access_token !== '' ? 'Make a Room' : 'Login to Spotify'}\n            </button>\n            )}\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default Login;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAOA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAbA;AAeA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AAxBA;AACA;AADA;AAFA;AAKA;AACA;;;AAsBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAFA;AAmBA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA/DA;AACA;AAiEA;;;;A","sourceRoot":""}