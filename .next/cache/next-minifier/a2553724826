{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{FTme:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/App\",function(){return n(\"k8vJ\")}])},k8vJ:function(t,e,n){\"use strict\";n.r(e);var r=n(\"1OyB\"),a=n(\"vuIU\"),s=n(\"JX7q\"),c=n(\"Ji7U\"),i=n(\"md7G\"),o=n(\"foSv\"),u=n(\"rePB\"),l=n(\"q1tI\"),m=n.n(l),f=n(\"vcXL\"),h=n.n(f),d=n(\"nOHt\"),p=n.n(d),v=n(\"YFqc\"),b=n.n(v),g=n(\"b0oO\"),y=m.a.createElement,O=function(t){return y(\"div\",null,y(g.a,null),y(\"div\",{className:\"container\"},y(\"div\",{className:\"col-md-12 mt-5\"},t.children)))},j=m.a.createElement,w=function(t){return j(\"div\",{className:t.columnWidth?t.columnWidth:\"col-md-4\"},j(\"figure\",{className:\"figure\"},t.imageURL?j(\"img\",{src:t.imageURL,className:\"figure-img img-fluid rounded\",alt:t.name,style:{height:300,width:300}}):\"\",j(\"figcaption\",{className:\"figure-caption\"},t.name),j(\"figcaption\",{className:\"figure-caption\"},t.children)))},N=m.a.createElement;function _(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var S=\"https://api.spotify.com/v1/search?q=\",R=function(t){Object(c.a)(l,t);var e,n=(e=l,function(){var t,n=Object(o.a)(e);if(_()){var r=Object(o.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(i.a)(this,t)});function l(t){var e;return Object(r.a)(this,l),e=n.call(this,t),Object(u.a)(Object(s.a)(e),\"componentDidMount\",(function(){-1==window.location.href.indexOf(\"_token\")&&p.a.push(\"/spotify\"),console.log(\"cdm ran\")})),Object(u.a)(Object(s.a)(e),\"submitArtistForm\",(function(t){t.preventDefault();var n=e.state.search_term,r=e.props.url.query.access_token;console.log(r),\"\"!=n&&h()(\"\".concat(S).concat(n,\"&type=artist&access_token=\").concat(r)).then((function(t){return t.json()})).then((function(t){return e.setState({artists:t.artists.items}),t.artists}))})),Object(u.a)(Object(s.a)(e),\"renderSearchResults\",(function(){if(e.state.artists.length>1){var t=e.state.artists,n=e.props.url.query.access_token,r=[];return t.forEach((function(t,e){if(void 0!=t.images[0]){var a=t.images[0];r.push(N(w,{key:t.id,imageURL:a.url,name:t.name},N(b.a,{href:\"/artist-albums?id=\".concat(t.id,\"&access_token=\").concat(n)},N(\"a\",{className:\"text-muted\"},\"View \",t.name,\" albums\"))))}})),r}return\"\"})),e.state={search_term:\"\",artists:[]},e.submitArtistForm=e.submitArtistForm.bind(Object(s.a)(e)),e.renderSearchResults=e.renderSearchResults.bind(Object(s.a)(e)),e}return Object(a.a)(l,[{key:\"render\",value:function(){var t=this;return console.log(\"this.state\",this.state),N(O,null,N(\"div\",{className:\"row mt-5 justify-content-center\"},N(\"h3\",null,this.state.artists.length>1?'Search results for \"'.concat(this.state.search_term,'\"'):\"Search the Spotify API for your favorite artist\")),N(\"div\",{className:\"row mt-5 justify-content-center\"},N(\"form\",{onSubmit:function(e){return t.submitArtistForm(e)}},N(\"div\",{className:\"form-group\"},N(\"input\",{type:\"text\",className:\"form-control text-center\",placeholder:\"enter artist name\",onChange:function(e){return t.setState({search_term:e.target.value})}})),N(\"div\",{className:\"form-group\"},N(\"button\",{type:\"submit\",className:\"form-control btn btn-outline-success\"},\"Search\")))),N(\"div\",{className:\"row mt-5\"},this.renderSearchResults()))}}]),l}(l.Component);e.default=R},vcXL:function(t,e,n){\"use strict\";var r=self.fetch.bind(self);t.exports=r,t.exports.default=t.exports}},[[\"FTme\",0,2,1,3]]]);"}