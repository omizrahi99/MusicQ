{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/jenniferlo/cs/cs48/project-s1-t1-music-queue/pages/user.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport fetch from 'isomorphic-unfetch';\n\nvar User = /*#__PURE__*/function (_Component) {\n  _inherits(User, _Component);\n\n  var _super = _createSuper(User);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"routeToSearchArtists\", function (event) {\n      event.preventDefault();\n      var access_token = _this.props.url.query.access_token;\n      Router.push({\n        pathname: '/App',\n        query: {\n          access_token: access_token\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log('playlist', playlist);\n      return __jsx(Layout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"row mt-5 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 17\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }\n      }, \"Welcome \", user.display_name.split(\" \")[0], \"!\")), __jsx(\"div\", {\n        className: \"row mt-2 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }\n      }, __jsx(\"img\", {\n        src: user.images[0].url,\n        className: \"img-responsive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }\n      })), __jsx(\"div\", {\n        className: \"mt-4 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }\n      }, __jsx(\"p\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }\n      }, \"username: \", user.display_name), __jsx(\"p\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      }, \"email: \", user.email), __jsx(\"p\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      }, \"follower count: \", user.followers.total)), __jsx(\"div\", {\n        className: \"row mt-5 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, __jsx(\"button\", {\n        className: \"btn btn-success\",\n        onClick: function onClick(event) {\n          return _this2.routeToSearchArtists(event);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }\n      }, \"Search Artists\")), __jsx(\"div\", {\n        className: \"row mt-5 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, __jsx(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, \"My Playlists\")), __jsx(\"div\", {\n        className: \"row mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }, this.renderPlaylist()));\n    }\n  }]);\n\n  return User;\n}(Component);\n\nUser.getInitialProps = function _callee(context) {\n  var access_token, res, user, res2, playlist;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          access_token = context.query.access_token;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(fetch(spotifyProfileURL + access_token));\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 6:\n          user = _context.sent;\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(fetch(spotifyPlaylistURL + access_token));\n\n        case 9:\n          res2 = _context.sent;\n          _context.next = 12;\n          return _regeneratorRuntime.awrap(res2.json());\n\n        case 12:\n          playlist = _context.sent;\n          return _context.abrupt(\"return\", {});\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default User;","map":{"version":3,"sources":["/Users/jenniferlo/cs/cs48/project-s1-t1-music-queue/pages/user.js"],"names":["React","Component","Router","fetch","User","props","event","preventDefault","access_token","url","query","push","pathname","console","log","playlist","user","display_name","split","images","email","followers","total","routeToSearchArtists","renderPlaylist","getInitialProps","context","spotifyProfileURL","res","json","spotifyPlaylistURL","res2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Router from 'next/router'\nimport fetch from 'isomorphic-unfetch'\n\n\nclass User extends Component {\n    constructor(props) {\n        super(props);\n        \n    }\n\n    routeToSearchArtists = (event) => {\n        event.preventDefault()\n        const { access_token } = this.props.url.query\n        Router.push({\n            pathname: '/App',\n            query: { access_token }\n        })\n    }\n\n    \n    render(){        \n        \n        console.log('playlist', playlist)\n        return(\n            <Layout>\n                <div className=\"row mt-5 justify-content-center\">\n                    <h3>Welcome {user.display_name.split(\" \")[0]}!</h3>\n                </div>\n                <div className=\"row mt-2 justify-content-center\">\n                    <img src={user.images[0].url} className=\"img-responsive\" />\n                </div>\n                <div className=\"mt-4 justify-content-center\">\n                    <p className=\"text-center\">username: {user.display_name}</p>\n                    <p className=\"text-center\">email: {user.email}</p>\n                    <p className=\"text-center\">follower count: {user.followers.total}</p>\n                </div>\n                <div className=\"row mt-5 justify-content-center\">\n                    <button \n                        className=\"btn btn-success\" \n                        onClick={event => this.routeToSearchArtists(event)}\n                    >\n                        Search Artists\n                    </button>\n                </div>\n                <div className=\"row mt-5 justify-content-center\">\n                    <h5>My Playlists</h5>\n                </div>\n                <div className=\"row mt-2\">\n                    { this.renderPlaylist() }\n                </div>\n            </Layout>\n        )\n    }\n}\n\nUser.getInitialProps = async function(context) {\n    const { access_token } = context.query\n    const res = await fetch(spotifyProfileURL+access_token)\n    const user = await res.json()\n    const res2 = await fetch(spotifyPlaylistURL+access_token)\n    const playlist = await res2.json()\n    return { \n    \n    }\n}\n\nexport default User"]},"metadata":{},"sourceType":"module"}