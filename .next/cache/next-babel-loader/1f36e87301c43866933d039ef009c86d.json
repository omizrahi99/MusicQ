{"ast":null,"code":"var _jsxFileName = \"/Users/lilyou/Desktop/project-s1-t1-music-queue/pages/App.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\nimport Results from '../components/Results';\nconst spotifySearchURL = \"https://api.spotify.com/v1/search?q=\";\n\nclass SearchArtists extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"componentDidMount\", () => {\n      if (window.location.href.indexOf('_token') == -1) {\n        Router.push('/Login');\n      }\n\n      console.log('cdm ran');\n    });\n\n    _defineProperty(this, \"submitArtistForm\", event => {\n      event.preventDefault();\n      let url = window.location.href;\n      console.log(access_token);\n      const {\n        search_term\n      } = this.state; //   const { access_token } = this.props.url.query\n\n      const {\n        access_token\n      } = url.split('_token=')[1].split(\"&\")[0].trim(); //   console.log(\"this.props: \", this.props)\n      //   console.log(\"this.props.url.query: \", this.props.url.query)\n\n      console.log(\"access token: \", access_token); //   const { access_token } = url.split('_token=')[1].split(\"&\")[0].trim()\n\n      if (search_term != '') {\n        fetch(`${spotifySearchURL}${search_term}&type=artist&access_token=${access_token}`).then(response => response.json()).then(json => {\n          console.log(json);\n          this.setState({\n            artists: json.artists.items\n          });\n          return json.artists;\n        });\n      }\n    });\n\n    _defineProperty(this, \"renderSearchResults\", () => {\n      if (this.state.artists.length > 1) {\n        const {\n          artists\n        } = this.state;\n        const {\n          access_token\n        } = this.props.url.query;\n        let allResults = [];\n        artists.forEach((artist, index) => {\n          if (artist.images[0] != undefined) {\n            let hasImage = artist.images[0];\n            allResults.push(__jsx(Results, {\n              key: artist.id,\n              imageURL: hasImage.url,\n              name: artist.name,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 23\n              }\n            }, __jsx(Link, {\n              href: `/artist-albums?id=${artist.id}&access_token=${access_token}`,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 24\n              }\n            }, __jsx(\"a\", {\n              className: \"text-muted\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 27\n              }\n            }, \"View \", artist.name, \" albums\"))));\n          }\n        });\n        return allResults;\n      } else {\n        return '';\n      }\n    });\n\n    this.state = {\n      search_term: '',\n      artists: []\n    };\n  }\n\n  render() {\n    console.log('this.state', this.state);\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"row mt-5 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }, this.state.artists.length > 1 ? `Search results for \"${this.state.search_term}\"` : 'Search the Spotify API for your favorite artist')), __jsx(\"div\", {\n      className: \"row mt-5 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, __jsx(\"form\", {\n      onSubmit: event => this.submitArtistForm(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, __jsx(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control text-center\",\n      placeholder: \"enter artist name\",\n      onChange: event => this.setState({\n        search_term: event.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 27\n      }\n    })), __jsx(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      className: \"form-control btn btn-outline-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 27\n      }\n    }, \"Search\")))), __jsx(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, this.renderSearchResults()));\n  }\n\n}\n\nexport default SearchArtists;","map":{"version":3,"sources":["/Users/lilyou/Desktop/project-s1-t1-music-queue/pages/App.js"],"names":["React","Component","fetch","Router","Link","Layout","Results","spotifySearchURL","SearchArtists","constructor","props","window","location","href","indexOf","push","console","log","event","preventDefault","url","access_token","search_term","state","split","trim","then","response","json","setState","artists","items","length","query","allResults","forEach","artist","index","images","undefined","hasImage","id","name","render","submitArtistForm","target","value","renderSearchResults"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport fetch from 'isomorphic-unfetch'\nimport Router from 'next/router'\nimport Link from 'next/link'\nimport Layout from '../components/Layout'\nimport Results from '../components/Results'\nconst spotifySearchURL = \"https://api.spotify.com/v1/search?q=\";\n\nclass SearchArtists extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          search_term: '',\n          artists: []\n      }\n  }\n\n  componentDidMount = () => {\n      if(window.location.href.indexOf('_token')==-1){\n          Router.push('/Login')\n      }\n      console.log('cdm ran')\n  }\n\n  submitArtistForm = (event) => {\n      event.preventDefault()\n      let url = window.location.href\n\n      console.log(access_token)\n\n      const { search_term } = this.state\n    //   const { access_token } = this.props.url.query\n      const { access_token } = url.split('_token=')[1].split(\"&\")[0].trim()\n\n\n    //   console.log(\"this.props: \", this.props)\n    //   console.log(\"this.props.url.query: \", this.props.url.query)\n      console.log(\"access token: \", access_token)\n\n    //   const { access_token } = url.split('_token=')[1].split(\"&\")[0].trim()\n      if(search_term!=''){\n        fetch(`${spotifySearchURL}${search_term}&type=artist&access_token=${access_token}`)\n          .then(response => response.json())\n          .then(json => {\n              console.log(json)\n              this.setState({ artists: json.artists.items })\n              return json.artists\n          })\n      }\n  }\n\n  renderSearchResults = () => {\n      if(this.state.artists.length > 1){\n          const { artists } = this.state\n          const { access_token } = this.props.url.query \n          let allResults = []\n          artists.forEach((artist, index) => {\n              if(artist.images[0]!=undefined){\n                  let hasImage = artist.images[0]\n                  allResults.push(\n                      <Results\n                          key={artist.id} \n                          imageURL={hasImage.url}\n                          name={artist.name} \n                      >                         \n                       <Link href={`/artist-albums?id=${artist.id}&access_token=${access_token}`}>\n                          <a className=\"text-muted\">View {artist.name} albums</a>\n                       </Link>\n                      </Results>\n                  )\n              }\n          })\n          return allResults\n      }else{\n          return ''\n      }\n  }\n  \n  render() {\n      console.log('this.state', this.state)\n      return (\n          <Layout>\n              <div className=\"row mt-5 justify-content-center\">\n                  <h3>\n                      {\n                          this.state.artists.length > 1 \n                          ? \n                          `Search results for \"${this.state.search_term}\"` \n                          : \n                          'Search the Spotify API for your favorite artist'\n                      }\n                  </h3>\n              </div>\n              <div className=\"row mt-5 justify-content-center\">\n                  <form onSubmit={event => this.submitArtistForm(event)}>\n                      <div className=\"form-group\">\n                          <input \n                              type=\"text\" \n                              className=\"form-control text-center\" \n                              placeholder=\"enter artist name\"\n                              onChange={event => this.setState({ search_term: event.target.value })} \n                          /> \n                      </div>\n                      <div className=\"form-group\">\n                          <button type=\"submit\" className=\"form-control btn btn-outline-success\">Search</button> \n                      </div>\n                  </form>\n              </div>\n              <div className=\"row mt-5\">\n                  {this.renderSearchResults()}\n              </div>\n          </Layout>\n      );\n  }\n}\n\nexport default SearchArtists;"]},"metadata":{},"sourceType":"module"}