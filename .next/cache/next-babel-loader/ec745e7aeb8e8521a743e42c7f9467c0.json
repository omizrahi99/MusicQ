{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nexport const spotifyProfileURL = \"https://api.spotify.com/v1/me?access_token=\";\n\nclass User extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"routeToSearchArtists\", event => {\n      event.preventDefault();\n      const {\n        access_token\n      } = this.props.url.query;\n      Router.push({\n        pathname: '/App',\n        query: {\n          access_token\n        }\n      });\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    return __jsx(\"div\", null, __jsx(\"div\", {\n      className: \"row mt-5 justify-content-center\"\n    }, __jsx(\"h3\", null, \"Welcome \", user.display_name.split(\" \")[0], \"!\")), __jsx(\"div\", {\n      className: \"row mt-2 justify-content-center\"\n    }, __jsx(\"img\", {\n      src: user.images[0].url,\n      className: \"img-responsive\"\n    })), __jsx(\"div\", {\n      className: \"mt-4 justify-content-center\"\n    }, __jsx(\"p\", {\n      className: \"text-center\"\n    }, \"username: \", user.display_name), __jsx(\"p\", {\n      className: \"text-center\"\n    }, \"email: \", user.email), __jsx(\"p\", {\n      className: \"text-center\"\n    }, \"follower count: \", user.followers.total)), __jsx(\"div\", {\n      className: \"row mt-5 justify-content-center\"\n    }, __jsx(\"button\", {\n      className: \"btn btn-success\",\n      onClick: event => this.routeToSearchArtists(event)\n    }, \"Search Artists\")));\n  }\n\n}\n\nUser.getInitialProps = async function (context) {\n  const {\n    access_token\n  } = context.query;\n  const res = await fetch(spotifyProfileURL + access_token);\n  const user = await res.json();\n  return {\n    user\n  };\n};\n\nexport default User;","map":null,"metadata":{},"sourceType":"module"}