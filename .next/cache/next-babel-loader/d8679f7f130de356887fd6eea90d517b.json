{"ast":null,"code":"var _jsxFileName = \"/Users/jenniferlo/cs/cs48/project-s1-t1-music-queue/components/Login.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\"; //import './login.css';\n\nexport const authEndpoint = 'https://accounts.spotify.com/authorize'; // Replace with your app's client ID, redirect URI and desired scopes\n\nconst clientId = process.env.CLIENT_ID;\nconst redirectUri = process.env.REDIRECT_URI;\nconst scopes = [\"user-read-currently-playing\", \"user-read-playback-state\"];\nexport const spotifyWebApiURL = `https://accounts.spotify.com/authorize/?client_id=${clientId}&response_type=token&redirect_uri=${redirectUri}&scope=${scopes}`;\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"componentDidMount\", () => {\n      let url = window.location.href;\n\n      if (url.indexOf('_token') > -1) {\n        let access_token = url.split('_token=')[1].split(\"&\")[0].trim();\n        this.setState({\n          access_token\n        });\n      }\n    });\n\n    _defineProperty(this, \"makeSpotifyCall\", event => {\n      event.preventDefault();\n      const {\n        access_token\n      } = this.state;\n\n      if (access_token === '') {\n        document.location = spotifyWebApiURL;\n      } else {\n        Router.push({\n          pathname: '/user',\n          query: {\n            access_token\n          }\n        });\n      }\n    });\n\n    this.state = {\n      access_token: ''\n    };\n  }\n\n  render() {\n    const styles = {\n      border: \"0.2em solid #1ecd97\",\n      textAlign: \"center\",\n      display: \"inline-block\",\n      fontSize: \"16px\",\n      backgroundColor: \"transparent\",\n      borderRadius: \"2em\",\n      color: \"#1ecd97\",\n      cursor: \"pointer\",\n      fontSize: \"3vmin\",\n      padding: \"0.7em 1.5em\",\n      textTransform: \"uppercase\",\n      transition: \"all 0.25s ease\"\n    };\n    const {\n      access_token\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"Login\",\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, __jsx(\"header\", {\n      className: \"Login-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 8\n      }\n    }, access_token !== '' ? 'Authentication successful!' : '', __jsx(\"button\", {\n      onClick: event => this.makeSpotifyCall(event),\n      className: \"btn btn--Login-link\",\n      style: styles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, access_token !== '' ? '' : 'Login to Spotify')));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/jenniferlo/cs/cs48/project-s1-t1-music-queue/components/Login.js"],"names":["React","Component","authEndpoint","clientId","process","env","CLIENT_ID","redirectUri","REDIRECT_URI","scopes","spotifyWebApiURL","Login","constructor","props","url","window","location","href","indexOf","access_token","split","trim","setState","event","preventDefault","state","document","Router","push","pathname","query","render","styles","border","textAlign","display","fontSize","backgroundColor","borderRadius","color","cursor","padding","textTransform","transition","makeSpotifyCall"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AAEA,OAAO,MAAMC,YAAY,GAAG,wCAArB,C,CACP;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,SAA7B;AACA,MAAMC,WAAW,GAAGH,OAAO,CAACC,GAAR,CAAYG,YAAhC;AACA,MAAMC,MAAM,GAAG,CACb,6BADa,EAEb,0BAFa,CAAf;AAIA,OAAO,MAAMC,gBAAgB,GAAI,qDAAoDP,QACpF,qCAAoCI,WAAY,UAASE,MAAO,EAD1D;;AAGP,MAAME,KAAN,SAAoBV,SAApB,CAA8B;AAE5BW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,+CAMD,MAAM;AACxB,UAAIC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAA1B;;AACA,UAAGH,GAAG,CAACI,OAAJ,CAAY,QAAZ,IAAsB,CAAC,CAA1B,EAA4B;AACxB,YAAIC,YAAY,GAAGL,GAAG,CAACM,KAAJ,CAAU,SAAV,EAAqB,CAArB,EAAwBA,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,EAAsCC,IAAtC,EAAnB;AACA,aAAKC,QAAL,CAAc;AAAEH,UAAAA;AAAF,SAAd;AACH;AACF,KAZoB;;AAAA,6CAcFI,KAAD,IAAW;AAC3BA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAM;AAAEL,QAAAA;AAAF,UAAmB,KAAKM,KAA9B;;AACA,UAAGN,YAAY,KAAG,EAAlB,EAAqB;AACjBO,QAAAA,QAAQ,CAACV,QAAT,GAAoBN,gBAApB;AACH,OAFD,MAEK;AACDiB,QAAAA,MAAM,CAACC,IAAP,CAAY;AACRC,UAAAA,QAAQ,EAAE,OADF;AAERC,UAAAA,KAAK,EAAE;AAAEX,YAAAA;AAAF;AAFC,SAAZ;AAIH;AACF,KAzBoB;;AAEjB,SAAKM,KAAL,GAAa;AACTN,MAAAA,YAAY,EAAE;AADL,KAAb;AAGH;;AAuBCY,EAAAA,MAAM,GAAG;AAEP,UAAMC,MAAM,GAAG;AACbC,MAAAA,MAAM,EAAE,qBADK;AAEbC,MAAAA,SAAS,EAAE,QAFE;AAGbC,MAAAA,OAAO,EAAE,cAHI;AAIbC,MAAAA,QAAQ,EAAE,MAJG;AAKbC,MAAAA,eAAe,EAAE,aALJ;AAMbC,MAAAA,YAAY,EAAE,KAND;AAObC,MAAAA,KAAK,EAAE,SAPM;AAQbC,MAAAA,MAAM,EAAE,SARK;AASbJ,MAAAA,QAAQ,EAAE,OATG;AAUbK,MAAAA,OAAO,EAAE,aAVI;AAWbC,MAAAA,aAAa,EAAE,WAXF;AAYbC,MAAAA,UAAU,EAAE;AAZC,KAAf;AAeA,UAAM;AAAExB,MAAAA;AAAF,QAAmB,KAAKM,KAA9B;AAEA,WACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAuB,MAAA,KAAK,EAAE;AAACS,QAAAA,SAAS,EAAE;AAAZ,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAESf,YAAY,KAAK,EAAjB,GAAsB,4BAAtB,GAAqD,EAF9D,EAKO;AAAQ,MAAA,OAAO,EAAEI,KAAK,IAAI,KAAKqB,eAAL,CAAqBrB,KAArB,CAA1B;AAAuD,MAAA,SAAS,EAAC,qBAAjE;AAAuF,MAAA,KAAK,EAAES,MAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACDb,YAAY,KAAK,EAAjB,GAAsB,EAAtB,GAA2B,kBAD1B,CALP,CADD,CADF;AAcD;;AA/D2B;;AAkE9B,eAAeR,KAAf","sourcesContent":["import React, { Component } from \"react\";\n//import './login.css';\n\nexport const authEndpoint = 'https://accounts.spotify.com/authorize';\n// Replace with your app's client ID, redirect URI and desired scopes\nconst clientId = process.env.CLIENT_ID;\nconst redirectUri = process.env.REDIRECT_URI;\nconst scopes = [\n  \"user-read-currently-playing\",\n  \"user-read-playback-state\",\n];\nexport const spotifyWebApiURL = `https://accounts.spotify.com/authorize/?client_id=${clientId\n}&response_type=token&redirect_uri=${redirectUri}&scope=${scopes}`;\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n        access_token: ''\n    }\n}\ncomponentDidMount = () => {\n  let url = window.location.href\n  if(url.indexOf('_token')>-1){            \n      let access_token = url.split('_token=')[1].split(\"&\")[0].trim()\n      this.setState({ access_token })\n  }\n}\n\nmakeSpotifyCall = (event) => {\n  event.preventDefault()\n  const { access_token } = this.state\n  if(access_token===''){\n      document.location = spotifyWebApiURL\n  }else{\n      Router.push({\n          pathname: '/user',\n          query: { access_token }\n      })\n  }  \n}\n\n\n  render() {\n\n    const styles = {\n      border: \"0.2em solid #1ecd97\",\n      textAlign: \"center\",\n      display: \"inline-block\",\n      fontSize: \"16px\",\n      backgroundColor: \"transparent\",\n      borderRadius: \"2em\",\n      color: \"#1ecd97\",\n      cursor: \"pointer\",\n      fontSize: \"3vmin\",\n      padding: \"0.7em 1.5em\",\n      textTransform: \"uppercase\",\n      transition: \"all 0.25s ease\",\n    }\n\n    const { access_token } = this.state\n\n    return (\n      <div className=\"Login\" style={{textAlign: \"center\"}}>\n       <header className=\"Login-header\">\n            {\n                access_token !== '' ? 'Authentication successful!' : ''\n            }\n\n            {(<button onClick={event => this.makeSpotifyCall(event)} className=\"btn btn--Login-link\" style={styles}>\n            {access_token !== '' ? '' : 'Login to Spotify'}\n            </button>\n            )}\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}