{"ast":null,"code":"import { initDatabase } from \"../../utils/mongodb\"; // async api endpoint to retrieve all songs\n\nexport default async function (req, res) {\n  console.log(\"requesting all documents ... \");\n  const client = await initDatabase();\n  const users = client.collection(\"song_name\");\n  const result = await users.find().toArray();\n  res.statusCode = 200;\n  res.setHeader(\"Content-Type\", \"application/json\");\n  console.log(\"in api endpoint: \" + JSON.stringify({\n    result\n  }));\n  res.end(JSON.stringify({\n    result\n  }));\n}","map":{"version":3,"sources":["/Users/gautam/Desktop/cs/48/project-s1-t1-music-queue/pages/api/all.js"],"names":["initDatabase","req","res","console","log","client","users","collection","result","find","toArray","statusCode","setHeader","JSON","stringify","end"],"mappings":"AAAA,SAASA,YAAT,QAA6B,qBAA7B,C,CAEA;;AACA,eAAe,gBAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AAEA,QAAMC,MAAM,GAAG,MAAML,YAAY,EAAjC;AACA,QAAMM,KAAK,GAAGD,MAAM,CAACE,UAAP,CAAkB,WAAlB,CAAd;AACA,QAAMC,MAAM,GAAG,MAAMF,KAAK,CAACG,IAAN,GAAaC,OAAb,EAArB;AACAR,EAAAA,GAAG,CAACS,UAAJ,GAAiB,GAAjB;AACAT,EAAAA,GAAG,CAACU,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACAT,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsBS,IAAI,CAACC,SAAL,CAAe;AAAEN,IAAAA;AAAF,GAAf,CAAlC;AACAN,EAAAA,GAAG,CAACa,GAAJ,CAAQF,IAAI,CAACC,SAAL,CAAe;AAAEN,IAAAA;AAAF,GAAf,CAAR;AACD","sourcesContent":["import { initDatabase } from \"../../utils/mongodb\";\n\n// async api endpoint to retrieve all songs\nexport default async function(req, res) {\n  console.log(\"requesting all documents ... \");\n\n  const client = await initDatabase();\n  const users = client.collection(\"song_name\");\n  const result = await users.find().toArray();\n  res.statusCode = 200;\n  res.setHeader(\"Content-Type\", \"application/json\");\n  console.log(\"in api endpoint: \" + JSON.stringify({ result }));\n  res.end(JSON.stringify({ result }));\n}\n"]},"metadata":{},"sourceType":"module"}