{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/gautam/Desktop/cs/48/project-s1-t1-music-queue/pages/Login.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Router from \"next/router\";\nimport Layout from \"../components/Layout\";\nimport config from \"../utils/config\";\nexport var authEndpoint = \"https://accounts.spotify.com/authorize\"; // Replace with your app's client ID, redirect URI and desired scopes\n\nvar clientId = config.CLIENT_ID;\nvar redirectUri = config.REDIRECT_URI;\nvar scopes = [\"user-read-currently-playing\", \"user-read-playback-state\"];\nvar spotifyWebApiURL = \"https://accounts.spotify.com/authorize/?client_id=\".concat(clientId, \"&response_type=token&redirect_uri=\").concat(redirectUri, \"&scope=\").concat(scopes);\nconsole.log(clientId);\nconsole.log(redirectUri);\nconsole.log(spotifyWebApiURL);\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      var url = window.location.href;\n\n      if (url.indexOf(\"_token\") > -1) {\n        var access_token = url.split(\"_token=\")[1].split(\"&\")[0].trim();\n\n        _this.setState({\n          access_token: access_token\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"makeSpotifyCall\", function (event) {\n      event.preventDefault();\n      var access_token = _this.state.access_token;\n\n      if (access_token === \"\") {\n        document.location = spotifyWebApiURL;\n      } else {\n        Router.push({\n          pathname: \"/App\",\n          query: {\n            access_token: access_token\n          }\n        });\n      }\n    });\n\n    _this.state = {\n      access_token: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _styles,\n          _this2 = this;\n\n      var styles = (_styles = {\n        border: \"0.2em solid #1ecd97\",\n        textAlign: \"center\",\n        display: \"inline-block\",\n        fontSize: \"16px\",\n        backgroundColor: \"transparent\",\n        borderRadius: \"2em\",\n        color: \"#1ecd97\",\n        cursor: \"pointer\"\n      }, _defineProperty(_styles, \"fontSize\", \"3vmin\"), _defineProperty(_styles, \"padding\", \"0.7em 1.5em\"), _defineProperty(_styles, \"textTransform\", \"uppercase\"), _defineProperty(_styles, \"transition\", \"all 0.25s ease\"), _styles);\n      var access_token = this.state.access_token;\n      return __jsx(\"div\", {\n        className: \"Login\",\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }\n      }, __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }), __jsx(\"header\", {\n        className: \"Login-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, __jsx(\"button\", {\n        onClick: function onClick() {\n          _this2.makeSpotifyCall(event);\n        },\n        className: \"btn btn--Login-link\",\n        style: styles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, access_token !== \"\" ? \"Make a Room\" : \"Login to Spotify\")));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/gautam/Desktop/cs/48/project-s1-t1-music-queue/pages/Login.js"],"names":["React","Component","Router","Layout","config","authEndpoint","clientId","CLIENT_ID","redirectUri","REDIRECT_URI","scopes","spotifyWebApiURL","console","log","Login","props","url","window","location","href","indexOf","access_token","split","trim","setState","event","preventDefault","state","document","push","pathname","query","styles","border","textAlign","display","fontSize","backgroundColor","borderRadius","color","cursor","makeSpotifyCall"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Router from \"next/router\";\nimport Layout from \"../components/Layout\";\nimport config from \"../utils/config\";\n\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\n// Replace with your app's client ID, redirect URI and desired scopes\nconst clientId = config.CLIENT_ID;\nconst redirectUri = config.REDIRECT_URI;\nconst scopes = [\"user-read-currently-playing\", \"user-read-playback-state\"];\nconst spotifyWebApiURL = `https://accounts.spotify.com/authorize/?client_id=${clientId}&response_type=token&redirect_uri=${redirectUri}&scope=${scopes}`;\n\nconsole.log(clientId);\nconsole.log(redirectUri);\nconsole.log(spotifyWebApiURL);\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      access_token: \"\"\n    };\n  }\n  componentDidMount = () => {\n    let url = window.location.href;\n    if (url.indexOf(\"_token\") > -1) {\n      let access_token = url\n        .split(\"_token=\")[1]\n        .split(\"&\")[0]\n        .trim();\n      this.setState({ access_token });\n    }\n  };\n\n  makeSpotifyCall = event => {\n    event.preventDefault();\n    const { access_token } = this.state;\n    if (access_token === \"\") {\n      document.location = spotifyWebApiURL;\n    } else {\n      Router.push({\n        pathname: \"/App\",\n        query: { access_token }\n      });\n    }\n  };\n\n  render() {\n    const styles = {\n      border: \"0.2em solid #1ecd97\",\n      textAlign: \"center\",\n      display: \"inline-block\",\n      fontSize: \"16px\",\n      backgroundColor: \"transparent\",\n      borderRadius: \"2em\",\n      color: \"#1ecd97\",\n      cursor: \"pointer\",\n      fontSize: \"3vmin\",\n      padding: \"0.7em 1.5em\",\n      textTransform: \"uppercase\",\n      transition: \"all 0.25s ease\"\n    };\n\n    const { access_token } = this.state;\n\n    return (\n      <div className=\"Login\" style={{ textAlign: \"center\" }}>\n        <br />\n        <br />\n        <header className=\"Login-header\">\n          {\n            <button\n              onClick={() => {\n                this.makeSpotifyCall(event);\n              }}\n              className=\"btn btn--Login-link\"\n              style={styles}\n            >\n              {access_token !== \"\" ? \"Make a Room\" : \"Login to Spotify\"}\n            </button>\n          }\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}