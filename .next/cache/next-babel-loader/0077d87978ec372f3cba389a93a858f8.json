{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/shonnavalli/cs48/project-s1-t1-music-queue/pages/Login.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Router from 'next/router';\nimport Layout from '../components/Layout'; //import './login.css';\n\nexport var authEndpoint = 'https://accounts.spotify.com/authorize'; // Replace with your app's client ID, redirect URI and desired scopes\n\nvar clientId = process.env.CLIENT_ID;\nvar redirectUri = process.env.REDIRECT_URI;\nvar scopes = [\"user-read-currently-playing\", \"user-read-playback-state\"];\nexport var spotifyWebApiURL = \"https://accounts.spotify.com/authorize/?client_id=\".concat(clientId, \"&response_type=token&redirect_uri=\").concat(redirectUri, \"&scope=\").concat(scopes);\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      var url = window.location.href;\n\n      if (url.indexOf('_token') > -1) {\n        var access_token = url.split('_token=')[1].split(\"&\")[0].trim();\n\n        _this.setState({\n          access_token: access_token\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"makeSpotifyCall\", function (event) {\n      event.preventDefault();\n      var access_token = _this.state.access_token;\n\n      if (access_token === '') {\n        document.location = spotifyWebApiURL;\n      } else {\n        Router.push({\n          pathname: '/App',\n          query: {\n            access_token: access_token\n          }\n        });\n      }\n    });\n\n    _this.state = {\n      access_token: ''\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _styles,\n          _this2 = this;\n\n      var styles = (_styles = {\n        border: \"0.2em solid #1ecd97\",\n        textAlign: \"center\",\n        display: \"inline-block\",\n        fontSize: \"16px\",\n        backgroundColor: \"transparent\",\n        borderRadius: \"2em\",\n        color: \"#1ecd97\",\n        cursor: \"pointer\"\n      }, _defineProperty(_styles, \"fontSize\", \"3vmin\"), _defineProperty(_styles, \"padding\", \"0.7em 1.5em\"), _defineProperty(_styles, \"textTransform\", \"uppercase\"), _defineProperty(_styles, \"transition\", \"all 0.25s ease\"), _styles);\n      var access_token = this.state.access_token;\n      return __jsx(Layout, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        className: \"Login\",\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }), __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, access_token !== '' ? 'You are logged in' : \"Please Log in \"), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }), __jsx(\"header\", {\n        className: \"Login-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 8\n        }\n      }, __jsx(\"button\", {\n        onClick: function onClick(event) {\n          return _this2.makeSpotifyCall(event);\n        },\n        className: \"btn btn--Login-link\",\n        style: styles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 14\n        }\n      }, access_token !== '' ? 'Make a Room' : 'Login to Spotify'))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/shonnavalli/cs48/project-s1-t1-music-queue/pages/Login.js"],"names":["React","Component","Router","Layout","authEndpoint","clientId","process","env","CLIENT_ID","redirectUri","REDIRECT_URI","scopes","spotifyWebApiURL","Login","props","url","window","location","href","indexOf","access_token","split","trim","setState","event","preventDefault","state","document","push","pathname","query","styles","border","textAlign","display","fontSize","backgroundColor","borderRadius","color","cursor","makeSpotifyCall"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Router from 'next/router'\nimport Layout from '../components/Layout'\n//import './login.css';\n\nexport const authEndpoint = 'https://accounts.spotify.com/authorize';\n// Replace with your app's client ID, redirect URI and desired scopes\nconst clientId = process.env.CLIENT_ID;\nconst redirectUri = process.env.REDIRECT_URI;\nconst scopes = [\n  \"user-read-currently-playing\",\n  \"user-read-playback-state\",\n];\nexport const spotifyWebApiURL = `https://accounts.spotify.com/authorize/?client_id=${clientId}&response_type=token&redirect_uri=${redirectUri}&scope=${scopes}`;\n\n\nclass Login extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n        access_token: ''\n    }\n}\ncomponentDidMount = () => {\n  let url = window.location.href\n  if(url.indexOf('_token')>-1){            \n      let access_token = url.split('_token=')[1].split(\"&\")[0].trim()\n      this.setState({ access_token })\n  }\n}\n\nmakeSpotifyCall = (event) => {\n  event.preventDefault()\n  const { access_token } = this.state\n  if(access_token===''){\n      document.location = spotifyWebApiURL\n  }else{\n      Router.push({\n          pathname: '/App',\n          query: { access_token }\n      })\n  }  \n}\n\n\n  render() {\n\n    const styles = {\n      border: \"0.2em solid #1ecd97\",\n      textAlign: \"center\",\n      display: \"inline-block\",\n      fontSize: \"16px\",\n      backgroundColor: \"transparent\",\n      borderRadius: \"2em\",\n      color: \"#1ecd97\",\n      cursor: \"pointer\",\n      fontSize: \"3vmin\",\n      padding: \"0.7em 1.5em\",\n      textTransform: \"uppercase\",\n      transition: \"all 0.25s ease\",\n    }\n\n    const { access_token } = this.state\n\n    return (\n      <Layout>\n      <div className=\"Login\" style={{textAlign: \"center\"}}>\n        <br/>\n        <h3>\n        {access_token !== '' ? 'You are logged in' : \"Please Log in \"}\n        </h3>\n        <br/>\n       <header className=\"Login-header\">\n            {\n            (<button onClick={event => this.makeSpotifyCall(event)} className=\"btn btn--Login-link\" style={styles}>\n            {access_token !== '' ? 'Make a Room' : 'Login to Spotify'}\n            </button>\n            )}\n        </header>\n      </div>\n      </Layout>\n    );\n  }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}