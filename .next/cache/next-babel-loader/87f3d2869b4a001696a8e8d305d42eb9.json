{"ast":null,"code":"var _jsxFileName = \"/Users/jenniferlo/cs/cs48/project-s1-t1-music-queue/pages/user.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport { spotifyWebApiURL } from './Login';\n\nclass User extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"routeToSearchArtists\", event => {\n      event.preventDefault();\n      const {\n        access_token\n      } = this.props.url.query;\n      Router.push({\n        pathname: '/App',\n        query: {\n          access_token\n        }\n      });\n    });\n  }\n\n  render() {\n    console.log('playlist', playlist);\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      className: \"row mt-5 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }\n    }, \"Welcome \", user.display_name.split(\" \")[0], \"!\")), __jsx(\"div\", {\n      className: \"row mt-2 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, __jsx(\"img\", {\n      src: user.images[0].url,\n      className: \"img-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }\n    })), __jsx(\"div\", {\n      className: \"mt-4 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }\n    }, __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }\n    }, \"username: \", user.display_name), __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, \"email: \", user.email), __jsx(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, \"follower count: \", user.followers.total)), __jsx(\"div\", {\n      className: \"row mt-5 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, __jsx(\"button\", {\n      className: \"btn btn-success\",\n      onClick: event => this.routeToSearchArtists(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }\n    }, \"Search Artists\")), __jsx(\"div\", {\n      className: \"row mt-5 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, __jsx(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, \"My Playlists\")), __jsx(\"div\", {\n      className: \"row mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, this.renderPlaylist()));\n  }\n\n}\n\nUser.getInitialProps = async function (context) {\n  const {\n    access_token\n  } = context.query;\n  const res = await fetch(spotifyProfileURL + access_token);\n  const user = await res.json();\n  const res2 = await fetch(spotifyPlaylistURL + access_token);\n  const playlist = await res2.json();\n  return {};\n};\n\nexport default User;","map":{"version":3,"sources":["/Users/jenniferlo/cs/cs48/project-s1-t1-music-queue/pages/user.js"],"names":["React","Component","Router","fetch","spotifyWebApiURL","User","constructor","props","event","preventDefault","access_token","url","query","push","pathname","render","console","log","playlist","user","display_name","split","images","email","followers","total","routeToSearchArtists","renderPlaylist","getInitialProps","context","res","spotifyProfileURL","json","res2","spotifyPlaylistURL"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Router from 'next/router'\nimport fetch from 'isomorphic-unfetch'\nimport {spotifyWebApiURL} from './Login'\n\n\nclass User extends Component {\n    constructor(props) {\n        super(props);\n        \n    }\n\n    routeToSearchArtists = (event) => {\n        event.preventDefault()\n        const { access_token } = this.props.url.query\n        Router.push({\n            pathname: '/App',\n            query: { access_token }\n        })\n    }\n\n    \n    render(){        \n        \n        console.log('playlist', playlist)\n        return(\n            <Layout>\n                <div className=\"row mt-5 justify-content-center\">\n                    <h3>Welcome {user.display_name.split(\" \")[0]}!</h3>\n                </div>\n                <div className=\"row mt-2 justify-content-center\">\n                    <img src={user.images[0].url} className=\"img-responsive\" />\n                </div>\n                <div className=\"mt-4 justify-content-center\">\n                    <p className=\"text-center\">username: {user.display_name}</p>\n                    <p className=\"text-center\">email: {user.email}</p>\n                    <p className=\"text-center\">follower count: {user.followers.total}</p>\n                </div>\n                <div className=\"row mt-5 justify-content-center\">\n                    <button \n                        className=\"btn btn-success\" \n                        onClick={event => this.routeToSearchArtists(event)}\n                    >\n                        Search Artists\n                    </button>\n                </div>\n                <div className=\"row mt-5 justify-content-center\">\n                    <h5>My Playlists</h5>\n                </div>\n                <div className=\"row mt-2\">\n                    { this.renderPlaylist() }\n                </div>\n            </Layout>\n        )\n    }\n}\n\nUser.getInitialProps = async function(context) {\n    const { access_token } = context.query\n    const res = await fetch(spotifyProfileURL+access_token)\n    const user = await res.json()\n    const res2 = await fetch(spotifyPlaylistURL+access_token)\n    const playlist = await res2.json()\n    return { \n    \n    }\n}\n\nexport default User"]},"metadata":{},"sourceType":"module"}